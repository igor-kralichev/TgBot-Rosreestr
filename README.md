# TgBot-Rosreestr

Телеграм-бот и API для получения информации по кадастровому номеру из Росреестра.

---

## О проекте

Проект состоит из двух частей:
- **API** на FastAPI, который обрабатывает запросы по кадастровому номеру и возвращает структурированную информацию из Росреестра.
- **Телеграм-бот** на Aiogram, который принимает кадастровый номер от пользователя и выводит информацию, полученную через API.

---

## Запуск через Docker

Для запуска проекта используется `docker-compose`. В составе:
- Сервис `api` — FastAPI-приложение
- Сервис `bot` — Телеграм-бот
- Сервис `redis` — Redis (для внутреннего кеширования и работы бота)

### Шаги запуска

1. Склонируйте репозиторий:
    ```bash
    git clone https://github.com/igor-kralichev/TgBot-Rosreestr.git
    cd TgBot-Rosreestr
    ```

2. Создайте файл `.env` в корне проекта с переменными окружения:
    ```
    BOT_TOKEN=ваш_токен_телеграм_бота
    API_URL=http://api:8000
    ```

    - `BOT_TOKEN` — токен вашего Telegram-бота, который можно получить у [@BotFather](https://t.me/BotFather).
    - `API_URL` — URL API сервиса (при локальном запуске через докер — так, как указано).

3. Запустите проект командой:
    ```bash
    docker-compose up --build
    ```

4. После запуска бот будет доступен в Telegram. Отправьте ему кадастровый номер в формате `XX:XX:XXXXXX:XX` (например, `77:03:0001001:1`).

---

## Полезные команды

- Запуск в фоне:
    ```bash
    docker-compose up -d
    ```

- Просмотр логов API:
    ```bash
    docker-compose logs -f api
    ```

- Просмотр логов бота:
    ```bash
    docker-compose logs -f bot
    ```

- Остановка сервисов:
    ```bash
    docker-compose down
    ```

